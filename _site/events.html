<!doctype html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <title>Events-Bagisto</title>
        <link rel="stylesheet" href="assets/scss/layout.css" />
        <link rel="stylesheet" href="assets/css/syntax.css" />
        <link rel="icon" sizes="16x16" href="assets/images/icons/favicon.ico" />
    </head>
    <body>
        <div class="container">
            <div class="content-wrapper">
                <header class="header">
    <div class="logo-wrapper">
        <a href="/">
            <img class="logo" src="assets/images/logo.png" />
        </a>
        <span>Docs</span>
    </div>

    <nav class="menu-list">
        <ul>
            <li>
                <a class="nav-link" target="_blank" href="https://forums.bagisto.com/">Forum</a>
            </li>
            <li>
                <a class="nav-link" target="_blank" href="https://bagisto.com/en/blog/">Blogs</a>
            </li>
        </ul>
    </nav>
</header>

                <div class="content">
                    <div class="side-menu">
                        <div class="sidebar">
    <ul>
        <li class="menu-heading">
            <a href="index.html">Introduction</a>

            <ul class="sub-menu">
                <li>
                    <a href="index.html#requirements">Requirements</a>
                </li>

                <li>
                    <a href="index.html#installation">Installation & configuration</a>
                </li>

                <li>
                    <a href="index.html#directory_structure">Directory structure</a>
                </li>
            </ul>
        </li>

        <!-- Module Development -->
        <li class="menu-heading">
            <a href="create_package.html">Package development</a>

            <ul class="sub-menu">
                <li>
                    <a href="create_package.html#how-to-create-module">Creating a package</a>
                </li>

                <li>
                    <a href="create_package.html#add-menu">Adding menu in backend & storefront</a>
                </li>

                <li>
                    <a href="create_package.html#create-acl">Creating ACL</a>
                </li>

                <li>
                    <a href="create_package.html#custom-configuration">Custom configuration</a>
                </li>

                <li>
                    <a href="create_package.html#create_models">Creating models</a>

                    <ul>
                        <li>
                            <a href="create_package.html#about">Contracts, repositories & proxies</a>
                        </li>

                        <li>
                            <a href="create_package.html#store-data-through-repository">
                                Store data with repository
                            </a>
                        </li>
                    </ul>

                </li>
            </ul>
        </li>

        <!-- Advanced Topics -->

        <li class="menu-heading">
            <a href="override-core-model.html">Advance topics</a>

            <ul class="sub-menu">
                <li>
                    <a href="override-core-model.html">Override core models</a>
                </li>

                <li>
                    <a href="create_theme.html">Creating themes</a>
                </li>

                <li>
                    <a href="create_shipping_method.html">Creating shipping method</a>
                </li>

                <li>
                    <a href="create_payment_method.html">Creating Payment method</a>
                </li>

                <li>
                    <a href="render_event.html">View render event</a>
                </li>

                <li>
                    <a href="events.html">Events</a>
                </li>

                <li>
                    <a href="listen_event.html">Listen existing events</a>
                </li>

                <li>
                    <a href="data_grid.html">Data Grid</a>
                </li>
            </ul>
        </li>
    </ul>
</div>

                    </div>

                    <div class="right-content">
                        <h1 id="events">Events</h1>

<p><img src="/bagisto-docs/assets/images/icons/Icon-Pencil-Large.svg" alt="edit on github" class="pencil-icon" />
<a href="https://github.com/bagisto/bagisto-docs/blob/master/events.md" class="edit-github" target="_blank">edit on github</a></p>

<p>Events provide a simple observer implementation which allows a user to subscribe and listen to various events triggered in the web application. All the event classes in Bagisto are stored in the <strong>Providers</strong> folder and the listeners are stored in the <strong>Listeners</strong> folder.</p>

<h3 id="manually-registering-events">Manually Registering Events</h3>

<p>For the sake of simplicity, in Bagisto, we register events manually in the boot method of your <strong><em>EventServiceProvider</em></strong> as below:</p>

<div class="language-php highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="sd">/**
* Register any other events for your application.
*
* @return void
*/</span>
<span class="k">public</span> <span class="k">function</span> <span class="nf">boot</span><span class="p">()</span>
<span class="p">{</span>
    <span class="k">parent</span><span class="o">::</span><span class="na">boot</span><span class="p">();</span>

    <span class="nx">Event</span><span class="o">::</span><span class="na">listen</span><span class="p">(</span><span class="s1">'event.name'</span><span class="p">,</span> <span class="s1">'path-upto-listener@function'</span><span class="p">);</span>
<span class="p">}</span>
</code></pre></div></div>

<p><img src="/bagisto-docs/assets/images/Bagisto_Docs_Images/Events/define-event.png" alt="Bagisto Root Directory" height="50%" width="100%" /></p>

<h4 id="manually-registering-listeners">Manually Registering Listeners</h4>

<p>As we see above, in registering events we specify listener function to be executed when event is called so on every event a listener function is to be executed</p>

<h3 id="how-we-specify-events">How we specify events?</h3>

<p>In most of <strong>CRUD</strong> operation. We had fired an event before and after the execution of function. So, that if some one want to perform any operation after or before product create/update/delete can perform by simply calling a listener function in event registration</p>

<p><img src="/bagisto-docs/assets/images/Bagisto_Docs_Images/Events/create-event-before-after.png" alt="Bagisto Root Directory" height="50%" width="100%" /></p>

<p><img src="/bagisto-docs/assets/images/Bagisto_Docs_Images/Events/delete-event-before-after.png" alt="Bagisto Root Directory" height="50%" width="100%" /></p>

<h2 id="events-used-in-bagisto">Events used in Bagisto</h2>

<table>
  <thead>
    <tr>
      <th>Events name</th>
      <th>functionality</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <td>checkout.order.save.after</td>
      <td>This event will be fire after order creation and listen in <code class="highlighter-rouge">ProductFlat</code> listener file to send new order mail from <code class="highlighter-rouge">sendNewOrderMail</code> function</td>
    </tr>
    <tr>
      <td>sales.invoice.save.after</td>
      <td>This event will be fire after invoice details have been saved and listen in <code class="highlighter-rouge">ProductFlat</code> listener file to send new invoice mail from <code class="highlighter-rouge">sendNewInvoiceMail</code> function</td>
    </tr>
    <tr>
      <td>sales.shipment.save.after</td>
      <td>This event will be fire after shipment details have been saved and listen in <code class="highlighter-rouge">ProductFlat</code> listener file to send new shipment mail from <code class="highlighter-rouge">sendNewShipmentMail</code> function</td>
    </tr>
    <tr>
      <td>checkout.order.save.after</td>
      <td>This event will be fire after order has been created  and will listen in <code class="highlighter-rouge">ProductFlat</code> listener file  to update product inventory from <code class="highlighter-rouge">updateProductInventory</code> function</td>
    </tr>
    <tr>
      <td>catalog.attribute.create.after</td>
      <td>This event will be fire after attribute has created and listen in <code class="highlighter-rouge">ProductFlat</code> listener file  from <code class="highlighter-rouge">afterAttributeCreatedUpdated</code> function</td>
    </tr>
    <tr>
      <td>catalog.attribute.update.after</td>
      <td>This event will be fire after attribute has updated and listen in <code class="highlighter-rouge">ProductFlat</code> listener file  from <code class="highlighter-rouge">afterAttributeCreatedUpdated</code> function</td>
    </tr>
    <tr>
      <td>catalog.attribute.delete.before</td>
      <td>This event will be fire before attribute has been delete and listen in <code class="highlighter-rouge">ProductFlat</code> listener file  from <code class="highlighter-rouge">afterAttributeDeleted</code> function</td>
    </tr>
    <tr>
      <td>catalog.product.create.after</td>
      <td>This event will be fire after product has been creation and listen in <code class="highlighter-rouge">ProductFlat</code> listener file  from <code class="highlighter-rouge">afterProductCreatedUpdated</code> function</td>
    </tr>
    <tr>
      <td>catalog.product.update.after</td>
      <td>This event will be fire after product has been updated and listen in <code class="highlighter-rouge">ProductFlat</code> listener file  from <code class="highlighter-rouge">afterProductCreatedUpdated</code> function</td>
    </tr>
  </tbody>
</table>

                    </div>
                </div>
            </div>
        </div>
    </body>
</html>